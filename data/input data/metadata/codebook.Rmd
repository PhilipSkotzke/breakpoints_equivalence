---
title: "Codebook"
output:
  html_document:
    toc: true
    toc_depth: 4
    toc_float: true
    code_folding: 'hide'
    self_contained: true
  pdf_document:
    toc: yes
    toc_depth: 4
    latex_engine: xelatex
---

## Description

This is the codebook for the file `data_NIRS_BPs_2025.xlsx`.

The data is collected from high-level triathletes (Performance Level 3 according to De Pau et al., 2013) performing an incremental running test on a 400 m outdoor track. The test commenced at 8 km/h for 2 minutes. After that, the speed increased by 0.5 km/h every minute. Pacing was provided using an acoustic signal when the participant was passing a cone every 20 m.

Ventilatory thresholds (GET, RCP) and SmO~2~ breakpoints (BP1, BP2) were visually identified and the time, heart rate and speed at the thresholds extracted.

```{r setup}
knitr::opts_chunk$set(
  warning = TRUE, # show warnings during codebook generation
  message = TRUE, # show messages during codebook generation
  error = TRUE, # do not interrupt codebook generation in case of errors,
                # usually better for debugging
  echo = TRUE  # show R code
)
ggplot2::theme_set(ggplot2::theme_bw())

```

```{r prepare_codebook}
library(codebook)
data_NIRS_BPs_2025 <- readxl::read_xlsx("../data_NIRS_BPs_2025.xlsx")

codebook_data <- detect_missing(data_NIRS_BPs_2025,
    only_labelled = TRUE, # only labelled values are autodetected as
                                   # missing
    negative_values_are_missing = FALSE, # negative values are missing values
    ninety_nine_problems = TRUE,   # 99/999 are missing values, if they
                                   # are more than 5 MAD from the median
    )

# add variable labels #####
var_label(data_NIRS_BPs_2025) <- list(
  ID = "Participant ID.",
  Age = "Age in years.",
  Height = "Height in centimeters.",
  Weight = "Body mass in kilograms.",
  v_peak = "peak velocity during the incremental exercise tests in kilometers per hour.",
  MAS = "maximal aerobic speed in kilometers per hour.",
  absVO2max = "Maximal oxygen uptake in liter per minute.",
  VO2max = "Maximal oxygen uptake in mililiters per minute per kilogram body weight.",
  GET_time = "Time of the gas exchange threshold during the incremental exercise test in seconds.",
  GET_speed = "Speed at the gas exchange threshold in kilometers per hour.",
  GET_HR = "Heart rate at the gas exchange threshold in beats per minute.",
  RCP_time = "Time of the respiratory compensation point during the incremental exercise test in seconds.",
  RCP_speed = "Speed at the respiratory compensation point in kilometers per hour.",
  RCP_HR = "Heart rate at the respiratory compensation point in beats per minute.",
  BP1_time = "Time of the SmO2 breakpoint 1 during the incremental exercise test in seconds.",
  BP1_speed = "Speed at the SmO2 breakpoint 1 point in kilometers per hour.",
  BP1_HR = "Heart rate at the SmO2 breakpoint 1 in beats per minute.",
  BP2_time = "Time of the SmO2 breakpoint 2 during the incremental exercise test in seconds.",
  BP2_speed = "Speed at the SmO2 breakpoint 2 point in kilometers per hour.",
  BP2_HR = "Heart rate at the SmO2 breakpoint 2 point in beats per minute."
)
```

Please see the following description of the included variables in our data set:

```{r codebook}
codebook(data_NIRS_BPs_2025)
```
